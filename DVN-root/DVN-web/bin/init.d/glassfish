#!/bin/bash
#description: glassfish start stop restart
#processname: glassfish
#chkconfig: 2345 20 80
# start service: $service glassfish start
# stop service: $service glassfish stop

GLASSFISH_HOME=/home/pcharoen/dvn/glassfish3/glassfish

case $1  in 
start)
sh $GLASSFISH_HOME/bin/asadmin start-domain domain1
;;
stop)
sh $GLASSFISH_HOME/bin/asadmin stop-domain domain1
;;
restart)
sh $GLASSFISH_HOME/bin/asadmin stop-domain domain1
sh $GLASSFISH_HOME/bin/asadmin start-domain domain1
;;
status)
sh $GLASSFISH_HOME/bin/asadmin list-domains | grep "domain1 not running" > /dev/null 2>&1
if [ $? = 0 ]; then
        echo "Glassfish server is stopped"
else
        echo "Glassfish server is running"
fi
;;
esac
exit 0
